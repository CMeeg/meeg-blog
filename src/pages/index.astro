---
import { getHomeStory } from '@features/home/api'
import HtmlDocument from '@features/common/HtmlDocument/index.astro'
import DefaultSeoMetadata from '@features/common/DefaultSeoMetadata/index.astro'
import HomePage from '@features/home/HomePage/index.astro'

// TODO: Home page is just a "Page" - maybe move this stuff under `common`?
const story = await getHomeStory()

if (!story) {
  return new Response(null, {
    status: 404,
    statusText: `'Home' story not found.`
  })
}
---

<HtmlDocument>
  <DefaultSeoMetadata slot="seo-metadata" metadata={story?.content.metadata} />
  <HomePage story={story} />
</HtmlDocument>
