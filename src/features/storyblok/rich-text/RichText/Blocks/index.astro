---
import type { StoryblokRichTextBlock } from '@features/storyblok/rich-text'
import {
  isTextBlock,
  StoryblokRichTextBlockType
} from '@features/storyblok/rich-text'
import Paragraph from './Paragraph.astro'

export interface Props {
  blocks: StoryblokRichTextBlock[]
}

const { blocks } = Astro.props as Props
---

{
  blocks?.map((block) => {
    if (isTextBlock(block)) {
      return block.text
    }

    switch (block.type) {
      case StoryblokRichTextBlockType.Paragraph:
        return <Paragraph block={block} />
    }
  })
}
