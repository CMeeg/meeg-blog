---
import type {
  PageHeadingStoryblok,
  ArticleListingStoryblok,
  MessageBoxStoryblok
} from '@features/storyblok/types/components'
import PageHeading from '@features/common/PageHeading/index.astro'
import ArticleListing from '@features/blog/ArticleListing/index.astro'

export interface Props {
  bloks?: (
    | PageHeadingStoryblok
    | ArticleListingStoryblok
    | MessageBoxStoryblok
  )[]
}

const { bloks } = Astro.props as Props
---

{
  bloks?.map((blok) => {
    // TODO: Would be good if `blok.component` was an enum - idealy would change type generation
    switch (blok.component) {
      case 'page_heading':
        return <PageHeading blok={blok} />
      case 'article_listing':
        return <ArticleListing blok={blok} />
    }
  })
}
