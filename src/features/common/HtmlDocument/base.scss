@import "open-props/colors";
@import "open-props/media";

:root {
  /* light theme vars */
  --color-canvas-light: var(--gray-0);
  --color-text-1-light: var(--gray-8);
  --color-accent-light: var(--grape-8);

  /* dark theme vars*/
  --color-canvas-dark: var(--gray-9);
  --color-text-1-dark: var(--gray-1);
  --color-accent-dark: var(--grape-5);
}

@mixin light-theme {
  // light theme as a mixin so it can be reused without duplication below
  color-scheme: light;

  --color-canvas: var(--color-canvas-light);
  --color-text-1: var(--color-text-1-light);
  --color-accent: var(--color-accent-light);
}

%light-theme {
  @include light-theme;
}

@mixin dark-theme {
  // dark theme as a mixin so it can be reused without duplication below
  color-scheme: dark;

  --color-canvas: var(--color-canvas-dark);
  --color-text-1: var(--color-text-1-dark);
  --color-accent: var(--color-accent-dark);
}

%dark-theme {
  @include dark-theme;
}

html, [data-theme='light'] {
  // apply light theme by default and based on selection
  @extend %light-theme;
}

[data-theme='dark'] {
  // apply dark theme based on selection
  @extend %dark-theme;

  img {
    filter: brightness(.8) contrast(1.2);
  }
}

@media (--OSdark) {
  html {
    // apply dark theme based on preference
    @include dark-theme;
  }
}

body {
  background: var(--color-canvas);
  color: var(--color-canvas-text-1);
  accent-color: var(--color-accent);
}
